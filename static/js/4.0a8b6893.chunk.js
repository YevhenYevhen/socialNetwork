(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{102:function(e,a,s){"use strict";s.r(a);var t=s(46),n=s(11),i=s(1),c=s(95),o=s.n(c),r=s(6),l=s(0),d=function(e){var a="/dialogs/"+e.id,s=Object(i.useState)(!1),t=Object(n.a)(s,2),c=t[0],d=t[1];return Object(l.jsx)(r.b,{to:a,children:Object(l.jsxs)("div",{onClick:function(){d(!c),e.setMessageMode(!0)},className:c?o.a.activeDialog:o.a.dialog,children:[Object(l.jsx)("img",{className:o.a.dialogPhoto,src:e.photo,alt:""}),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:o.a.dialogName,children:e.name}),Object(l.jsx)("div",{children:e.messages[0].text})]})]})})},j=s(36),g=function(e){return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:o.a.message,children:[Object(l.jsx)("img",{className:o.a.dialogPhoto,src:e.authUserPhoto||j.a,alt:""}),e.text]})})},b=s(2),m=s(24),u=s(15),O=Object(u.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(a,s){var n=Object(t.b)(a,s);e(n)}}}))((function(e){var a=Object(i.useState)(36),s=Object(n.a)(a,2),t=s[0],c=s[1];return Object(l.jsx)(m.b,{onSubmit:function(a){a.message&&(e.sendMessage(a.message,t),a.message="",c((function(e){return e+1})))},render:function(e){var a=e.handleSubmit;return Object(l.jsxs)("form",{className:o.a.form,onSubmit:a,children:[Object(l.jsx)(m.a,{name:"message",render:function(e){var a=e.input;e.meta;return Object(l.jsx)("textarea",Object(b.a)({className:o.a.messageTextarea,placeholder:"Enter your message"},a))}}),Object(l.jsx)("button",{className:o.a.sendButton,type:"submit",children:"Send"})]})}})})),h=s(39),x=function(e){var a=function(){var e=Object(i.useRef)();return Object(i.useEffect)((function(){return e.current.scrollIntoView()})),Object(l.jsx)("div",{ref:e})},s=Object(h.a)(),t=Object(i.useState)(!1),c=Object(n.a)(t,2),r=c[0],j=c[1],b=e.dialogsPage.messagesData.slice().reverse(),m=e.dialogsPage.dialogsData.map((function(e){return Object(l.jsx)(d,{setMessageMode:j,messages:b,name:e.name,id:e.id,photo:e.photo},e.id)})),u=e.dialogsPage.messagesData.map((function(a){return Object(l.jsx)(g,{authUserPhoto:e.authUserPhoto,text:a.text},a.id)}));return s<700?Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:o.a.wrapper,children:[r&&Object(l.jsx)("div",{className:o.a.back,onClick:function(){return j(!1)},children:Object(l.jsx)("span",{children:"\u2190 Back"})}),!r&&Object(l.jsx)("div",{className:o.a.dialogsContainer,children:m}),r&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:o.a.messagesContainer,children:[u,Object(l.jsx)(a,{})]}),Object(l.jsx)("div",{className:o.a.formContainer,children:Object(l.jsx)(O,{sendMessage:e.sendMessage})})]})]})}):s>700?Object(l.jsxs)("div",{className:o.a.wrapper,children:[Object(l.jsx)("div",{className:o.a.dialogsContainer,children:m}),Object(l.jsxs)("div",{className:o.a.messagesContainer,children:[u,Object(l.jsx)(a,{})]}),Object(l.jsx)("div",{className:o.a.formContainer,children:Object(l.jsx)(O,{sendMessage:e.sendMessage})})]}):void 0},_=s(27),f=s(26);a.default=Object(f.c)(Object(u.b)((function(e){return{dialogsPage:e.dialogsPage,authUserPhoto:e.auth.authUserPhoto}}),(function(e){return{sendMessage:function(a){e(Object(t.b)(a))}}})),_.a)(x)},95:function(e,a,s){e.exports={wrapper:"Dialogs_wrapper__1cRA8",back:"Dialogs_back__1QNa9",dialogsContainer:"Dialogs_dialogsContainer__3xYxC",dialog:"Dialogs_dialog__lk_cw",activeDialog:"Dialogs_activeDialog__3obRw",dialogPhoto:"Dialogs_dialogPhoto__13kYp",dialogName:"Dialogs_dialogName__16_Nc",messagesContainer:"Dialogs_messagesContainer__eYApo",message:"Dialogs_message__1xIDh",formContainer:"Dialogs_formContainer__3s2rE",form:"Dialogs_form__1EQXf",messageTextarea:"Dialogs_messageTextarea__38AsC",sendButton:"Dialogs_sendButton__14VVw"}}}]);
//# sourceMappingURL=4.0a8b6893.chunk.js.map