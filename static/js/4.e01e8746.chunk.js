(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{103:function(e,a,s){"use strict";s.r(a);var t=s(44),i=s(11),n=s(1),o=s(95),c=s.n(o),r=s(6),l=s(0),d=function(e){var a="/dialogs/"+e.id,s=Object(n.useState)(!1),t=Object(i.a)(s,2),o=t[0],d=t[1];return Object(l.jsx)(r.b,{to:a,children:Object(l.jsxs)("div",{onClick:function(){d(!o),e.setMessageMode(!0)},className:o?c.a.activeDialog:c.a.dialog,children:[Object(l.jsx)("img",{className:c.a.dialogPhoto,src:e.photo,alt:""}),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:c.a.dialogName,children:e.name}),Object(l.jsx)("div",{children:e.messages[0].text})]})]})})},g=function(e){return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:c.a.message,children:[Object(l.jsx)("img",{className:c.a.dialogPhoto,src:e.authUserPhoto,alt:""}),e.text]})})},j=s(2),m=s(23),b=s(14),u=Object(b.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(a,s){var i=Object(t.b)(a,s);e(i)}}}))((function(e){var a=Object(n.useState)(36),s=Object(i.a)(a,2),t=s[0],o=s[1];return Object(l.jsx)(m.b,{onSubmit:function(a){a.message&&(e.sendMessage(a.message,t),a.message="",o((function(e){return e+1})))},validate:function(e){var a={};return e.message&&0===e.message.length&&(a.message="Enter a valid email"),a},render:function(e){var a=e.handleSubmit;return Object(l.jsxs)("form",{className:c.a.dialogsForm,onSubmit:a,children:[Object(l.jsx)(m.a,{name:"message",render:function(e){var a=e.input,s=e.meta;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("textarea",Object(j.a)({className:c.a.messageTextarea,placeholder:"Enter your message"},a)),s.touched&&s.error&&Object(l.jsx)("span",{children:s.error})]})}}),Object(l.jsx)("button",{className:c.a.sendButton,type:"submit",children:"Send"})]})}})})),O=s(37),h=function(e){var a=function(){var e=Object(n.useRef)();return Object(n.useEffect)((function(){return e.current.scrollIntoView()})),Object(l.jsx)("div",{ref:e})},s=Object(O.a)(),t=Object(n.useState)(!1),o=Object(i.a)(t,2),r=o[0],j=o[1],m=e.dialogsPage.messagesData.slice().reverse(),b=e.dialogsPage.dialogsData.map((function(e){return Object(l.jsx)(d,{setMessageMode:j,messages:m,name:e.name,id:e.id,photo:e.photo},e.id)})),h=e.dialogsPage.messagesData.map((function(a){return Object(l.jsx)(g,{authUserPhoto:e.authUserPhoto,text:a.text},a.id)}));return s<700?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{children:r&&Object(l.jsx)("div",{className:c.a.back,onClick:function(){return j(!1)},children:" \u2190 Back"})}),Object(l.jsxs)("div",{className:c.a.dialogsWrapper,children:[!r&&Object(l.jsx)("div",{className:c.a.dialogsContainer,children:b}),r&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:c.a.messagesContainer,children:[h,Object(l.jsx)(a,{})]}),Object(l.jsx)("div",{className:c.a.dialogsFormContainer,children:Object(l.jsx)(u,{sendMessage:e.sendMessage})})]})]})]}):s>700?Object(l.jsxs)("div",{className:c.a.dialogsWrapper,children:[Object(l.jsx)("div",{className:c.a.dialogsContainer,children:b}),Object(l.jsxs)("div",{className:c.a.messagesContainer,children:[h,Object(l.jsx)(a,{})]}),Object(l.jsx)("div",{className:c.a.dialogsFormContainer,children:Object(l.jsx)(u,{sendMessage:e.sendMessage})})]}):void 0},x=s(26),_=s(24);a.default=Object(_.c)(Object(b.b)((function(e){return{dialogsPage:e.dialogsPage,authUserPhoto:e.auth.authUserPhoto}}),(function(e){return{sendMessage:function(a){e(Object(t.b)(a))}}})),x.a)(h)},95:function(e,a,s){e.exports={dialogsWrapper:"Dialogs_dialogsWrapper__pMZCD",dialogsContainer:"Dialogs_dialogsContainer__3xYxC",dialog:"Dialogs_dialog__lk_cw",activeDialog:"Dialogs_activeDialog__3obRw",dialogName:"Dialogs_dialogName__16_Nc",messagesContainer:"Dialogs_messagesContainer__eYApo",message:"Dialogs_message__1xIDh",dialogsFormContainer:"Dialogs_dialogsFormContainer__3i9dL",dialogsForm:"Dialogs_dialogsForm__34z_V",messageTextarea:"Dialogs_messageTextarea__38AsC",sendButton:"Dialogs_sendButton__14VVw",dialogPhoto:"Dialogs_dialogPhoto__13kYp",back:"Dialogs_back__1QNa9"}}}]);
//# sourceMappingURL=4.e01e8746.chunk.js.map