(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{103:function(e,a,s){"use strict";s.r(a);var t=s(45),n=s(11),i=s(1),c=s(95),r=s.n(c),o=s(6),l=s(0),d=function(e){var a="/dialogs/"+e.id,s=Object(i.useState)(!1),t=Object(n.a)(s,2),c=t[0],d=t[1];return Object(l.jsx)(o.b,{to:a,children:Object(l.jsxs)("div",{onClick:function(){d(!c),e.setMessageMode(!0)},className:c?r.a.activeDialog:r.a.dialog,children:[Object(l.jsx)("img",{className:r.a.dialogPhoto,src:e.photo,alt:""}),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:r.a.dialogName,children:e.name}),Object(l.jsx)("div",{children:e.messages[0].text})]})]})})},g=s(35),j=function(e){return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:r.a.message,children:[Object(l.jsx)("img",{className:r.a.dialogPhoto,src:e.authUserPhoto||g.a,alt:""}),e.text]})})},m=s(2),b=s(23),u=s(14),O=Object(u.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(a,s){var n=Object(t.b)(a,s);e(n)}}}))((function(e){var a=Object(i.useState)(36),s=Object(n.a)(a,2),t=s[0],c=s[1];return Object(l.jsx)(b.b,{onSubmit:function(a){a.message&&(e.sendMessage(a.message,t),a.message="",c((function(e){return e+1})))},validate:function(e){var a={};return e.message&&0===e.message.length&&(a.message="Enter a valid email"),a},render:function(e){var a=e.handleSubmit;return Object(l.jsxs)("form",{className:r.a.form,onSubmit:a,children:[Object(l.jsx)(b.a,{name:"message",render:function(e){var a=e.input,s=e.meta;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("textarea",Object(m.a)({className:r.a.messageTextarea,placeholder:"Enter your message"},a)),s.touched&&s.error&&Object(l.jsx)("span",{children:s.error})]})}}),Object(l.jsx)("button",{className:r.a.sendButton,type:"submit",children:"Send"})]})}})})),h=s(38),x=function(e){var a=function(){var e=Object(i.useRef)();return Object(i.useEffect)((function(){return e.current.scrollIntoView()})),Object(l.jsx)("div",{ref:e})},s=Object(h.a)(),t=Object(i.useState)(!1),c=Object(n.a)(t,2),o=c[0],g=c[1],m=e.dialogsPage.messagesData.slice().reverse(),b=e.dialogsPage.dialogsData.map((function(e){return Object(l.jsx)(d,{setMessageMode:g,messages:m,name:e.name,id:e.id,photo:e.photo},e.id)})),u=e.dialogsPage.messagesData.map((function(a){return Object(l.jsx)(j,{authUserPhoto:e.authUserPhoto,text:a.text},a.id)}));return s<700?Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:r.a.wrapper,children:[o&&Object(l.jsx)("div",{className:r.a.back,onClick:function(){return g(!1)},children:" \u2190 Back"}),!o&&Object(l.jsx)("div",{className:r.a.dialogsContainer,children:b}),o&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:r.a.messagesContainer,children:[u,Object(l.jsx)(a,{})]}),Object(l.jsx)("div",{className:r.a.formContainer,children:Object(l.jsx)(O,{sendMessage:e.sendMessage})})]})]})}):s>700?Object(l.jsxs)("div",{className:r.a.wrapper,children:[Object(l.jsx)("div",{className:r.a.dialogsContainer,children:b}),Object(l.jsxs)("div",{className:r.a.messagesContainer,children:[u,Object(l.jsx)(a,{})]}),Object(l.jsx)("div",{className:r.a.formContainer,children:Object(l.jsx)(O,{sendMessage:e.sendMessage})})]}):void 0},_=s(26),f=s(24);a.default=Object(f.c)(Object(u.b)((function(e){return{dialogsPage:e.dialogsPage,authUserPhoto:e.auth.authUserPhoto}}),(function(e){return{sendMessage:function(a){e(Object(t.b)(a))}}})),_.a)(x)},95:function(e,a,s){e.exports={wrapper:"Dialogs_wrapper__1cRA8",back:"Dialogs_back__1QNa9",dialogsContainer:"Dialogs_dialogsContainer__3xYxC",dialog:"Dialogs_dialog__lk_cw",activeDialog:"Dialogs_activeDialog__3obRw",dialogPhoto:"Dialogs_dialogPhoto__13kYp",dialogName:"Dialogs_dialogName__16_Nc",messagesContainer:"Dialogs_messagesContainer__eYApo",message:"Dialogs_message__1xIDh",formContainer:"Dialogs_formContainer__3s2rE",form:"Dialogs_form__1EQXf",messageTextarea:"Dialogs_messageTextarea__38AsC",sendButton:"Dialogs_sendButton__14VVw"}}}]);
//# sourceMappingURL=4.176c93a6.chunk.js.map